import{b as V,c as j,e as N,f as W}from"./chunk-YG7STXTV.js";import{Ba as R,C as p,E as l,Ea as z,F as i,G as o,Ga as $,H as g,I as x,J as C,K as s,Ma as Q,N as h,Na as Y,P as a,Q as k,R as b,Ra as q,T as y,U as M,V as B,W as L,aa as I,ba as S,c as f,da as E,la as w,na as D,oa as T,r as _,ra as A,s as m,v as P,x as r,y as v,z as O,za as F}from"./chunk-KVOACGWW.js";var J=()=>[1,2,3,4,5];function K(e,n){e&1&&(i(0,"div",4)(1,"div",5)(2,"span",6),a(3,"Loading..."),o()(),i(4,"p",7),a(5,"Loading book details..."),o()())}function X(e,n){if(e&1){let t=x();i(0,"div",8)(1,"div",9)(2,"div",10),g(3,"i",11),i(4,"div")(5,"h4",12),a(6,"Book Not Found"),o(),i(7,"p",13),a(8),o()()(),g(9,"hr"),i(10,"div",14)(11,"button",15),C("click",function(){_(t);let d=s();return m(d.goBack())}),g(12,"i",16),a(13,"Go Back "),o(),i(14,"a",17),g(15,"i",18),a(16,"Back to Home "),o()()()()}if(e&2){let t=s();r(8),k(t.error)}}function tt(e,n){if(e&1&&(i(0,"div",63),a(1),o()),e&2){let t=s(3);r(),b(" $",(t.getCurrentPrice()*1.2).toFixed(2)," ")}}function et(e,n){if(e&1){let t=x();i(0,"div",58)(1,"div",59),a(2),o(),p(3,tt,2,1,"div",60),i(4,"button",61),C("click",function(){_(t);let d=s(2);return m(d.startEditingPrice())}),g(5,"i",62),a(6," Edit Price "),o()()}if(e&2){let t=s(2);r(2),b(" $",t.getCurrentPrice().toFixed(2)," "),r(),l("ngIf",t.getCurrentPrice()>0)}}function nt(e,n){if(e&1){let t=x();i(0,"div",64)(1,"div",65)(2,"span",66),a(3,"$"),o(),i(4,"input",67),B("ngModelChange",function(d){_(t);let u=s(2);return M(u.editablePrice,d)||(u.editablePrice=d),m(d)}),C("input",function(d){_(t);let u=s(2);return m(u.onPriceInputChange(d))}),o()(),i(5,"div",68)(6,"button",69),C("click",function(){_(t);let d=s(2);return m(d.savePrice())}),g(7,"i",70),a(8," Save "),o(),i(9,"button",71),C("click",function(){_(t);let d=s(2);return m(d.cancelEditingPrice())}),g(10,"i",72),a(11," Cancel "),o()()()}if(e&2){let t=s(2);r(4),y("ngModel",t.editablePrice)}}function it(e,n){if(e&1&&(i(0,"span",73),a(1),o()),e&2){let t=s(2);r(),b(" ",t.getCartQuantity()," ")}}function ot(e,n){if(e&1&&(i(0,"span"),a(1),o()),e&2){let t=s(2);r(),k(t.book.author)}}function rt(e,n){if(e&1&&(i(0,"span"),a(1),o()),e&2){let t=s(2);r(),k(t.getAuthorsString(t.openLibraryBook==null?null:t.openLibraryBook.author_name))}}function at(e,n){if(e&1&&g(0,"i",79),e&2){let t=n.$implicit,c=s(3);h("text-warning",t<=c.getRating())("text-muted",t>c.getRating())}}function ct(e,n){if(e&1&&(i(0,"span",80),a(1),o()),e&2){let t=s(3);r(),b(" (",t.getRatingCount()," reviews) ")}}function st(e,n){if(e&1&&(i(0,"div",74)(1,"div",10)(2,"div",75),p(3,at,1,4,"i",76),o(),i(4,"span",77),a(5),p(6,ct,2,1,"span",78),o()()()),e&2){let t=s(2);r(3),l("ngForOf",L(3,J)),r(2),b(" ",t.getRating().toFixed(1),"/5 "),r(),l("ngIf",t.getRatingCount()>0)}}function lt(e,n){if(e&1&&(i(0,"span",85),a(1),o()),e&2){let t=n.$implicit;r(),b(" ",t," ")}}function dt(e,n){if(e&1&&(i(0,"div",81)(1,"h6",82),a(2,"Categories:"),o(),i(3,"div",83),p(4,lt,2,1,"span",84),o()()),e&2){let t=s(2);r(4),l("ngForOf",t.getCategories())}}function gt(e,n){if(e&1&&(i(0,"div",86)(1,"strong"),a(2,"ISBN:"),o(),i(3,"span"),a(4),o()()),e&2){let t=s(2);r(4),k(t.getISBN())}}function pt(e,n){if(e&1&&(i(0,"div",86)(1,"strong"),a(2,"Publisher:"),o(),i(3,"span"),a(4),o()()),e&2){let t=s(2);r(4),k(t.getPublisher())}}function bt(e,n){if(e&1&&(i(0,"div",86)(1,"strong"),a(2,"Published:"),o(),i(3,"span"),a(4),o()()),e&2){let t=s(2);r(4),k(t.getPublishedYear())}}function _t(e,n){if(e&1&&(i(0,"div",86)(1,"strong"),a(2,"Pages/Editions:"),o(),i(3,"span"),a(4),o()()),e&2){let t=s(2);r(4),k(t.getPageCount())}}function mt(e,n){if(e&1&&(i(0,"div",86)(1,"strong"),a(2,"Language:"),o(),i(3,"span"),a(4),o()()),e&2){let t=s(2);r(4),k(t.getLanguage())}}function kt(e,n){if(e&1&&(i(0,"div",86)(1,"strong"),a(2,"Format:"),o(),i(3,"span"),a(4),o()()),e&2){let t=s(2);r(4),k(t.book.format)}}function ut(e,n){if(e&1&&(i(0,"div",86)(1,"strong"),a(2,"Stock:"),o(),i(3,"span",87),a(4),o()()),e&2){let t=s(2);r(3),h("bg-success",t.book.stock>10)("bg-warning",t.book.stock<=10&&t.book.stock>0)("bg-danger",t.book.stock===0),r(),b(" ",t.book.stock===0?"Out of Stock":t.book.stock+" available"," ")}}function Ct(e,n){e&1&&(i(0,"div",86)(1,"strong"),a(2,"Source:"),o(),i(3,"span",88),a(4,"Open Library"),o()())}function ft(e,n){if(e&1&&(i(0,"div",52)(1,"small",80),a(2,"Available Editions:"),o(),i(3,"div"),a(4),o()()),e&2){let t=s(3);r(4),b("",t.openLibraryBook.edition_count," editions")}}function ht(e,n){e&1&&(i(0,"div",52)(1,"small",80),a(2,"Full Text Available:"),o(),i(3,"div"),g(4,"i",95),a(5," Yes"),o()())}function vt(e,n){if(e&1&&(i(0,"div",52)(1,"small",80),a(2,"Want to Read:"),o(),i(3,"div"),a(4),o()()),e&2){let t=s(3);r(4),b("",t.openLibraryBook.want_to_read_count," users")}}function xt(e,n){if(e&1&&(i(0,"div",52)(1,"small",80),a(2,"Currently Reading:"),o(),i(3,"div"),a(4),o()()),e&2){let t=s(3);r(4),b("",t.openLibraryBook.currently_reading_count," users")}}function Pt(e,n){if(e&1&&(i(0,"div",89)(1,"div",90)(2,"div",91)(3,"h6",13),g(4,"i",92),a(5," Additional Information "),o()(),i(6,"div",93)(7,"div",23),p(8,ft,5,1,"div",94)(9,ht,6,0,"div",94)(10,vt,5,1,"div",94)(11,xt,5,1,"div",94),o()()()()),e&2){let t=s(2);r(8),l("ngIf",t.openLibraryBook.edition_count),r(),l("ngIf",t.openLibraryBook.has_fulltext),r(),l("ngIf",t.openLibraryBook.want_to_read_count),r(),l("ngIf",t.openLibraryBook.currently_reading_count)}}function Ot(e,n){if(e&1&&(i(0,"span",73),a(1),o()),e&2){let t=s(2);r(),b(" ",t.getCartQuantity()," ")}}function yt(e,n){if(e&1){let t=x();i(0,"div",19)(1,"div",20)(2,"button",21),C("click",function(){_(t);let d=s();return m(d.goBack())}),g(3,"i",16),a(4,"Back "),o(),i(5,"div",22),g(6,"app-currency-selector"),o()(),i(7,"div",23)(8,"div",24)(9,"div",25)(10,"div",26)(11,"img",27),C("error",function(d){_(t);let u=s();return m(u.onImageError(d))}),o()(),i(12,"div",28)(13,"div",29),p(14,et,7,2,"div",30)(15,nt,12,1,"div",31),o(),i(16,"div",32)(17,"button",33),C("click",function(){_(t);let d=s();return m(d.addToCart())}),g(18,"i",34),i(19,"span",35),a(20),o(),p(21,it,2,1,"span",36),o(),i(22,"a",37),g(23,"i",38),a(24,"View Cart "),o()()()()(),i(25,"div",39)(26,"div",40)(27,"div",41)(28,"h1",42),a(29),o(),i(30,"p",43),g(31,"i",44),p(32,ot,2,1,"span",45)(33,rt,2,1,"span",45),o(),p(34,st,7,4,"div",46)(35,dt,5,1,"div",47),o(),i(36,"div",48)(37,"h5",49),a(38,"Description"),o(),i(39,"div",50)(40,"p"),a(41),o()()(),i(42,"div",51)(43,"h5",49),a(44,"Book Details"),o(),i(45,"div",23)(46,"div",52)(47,"div",53),p(48,gt,5,1,"div",54)(49,pt,5,1,"div",54)(50,bt,5,1,"div",54)(51,_t,5,1,"div",54),o()(),i(52,"div",52)(53,"div",53),p(54,mt,5,1,"div",54)(55,kt,5,1,"div",54)(56,ut,5,7,"div",54)(57,Ct,5,0,"div",54),o()()()(),p(58,Pt,12,4,"div",55),i(59,"div",56)(60,"div",57)(61,"button",33),C("click",function(){_(t);let d=s();return m(d.addToCart())}),g(62,"i",34),i(63,"span",35),a(64),o(),p(65,Ot,2,1,"span",36),o()()()()()()()}if(e&2){let t=s();r(11),l("src",t.getCoverImage(),P)("alt",(t.book==null?null:t.book.title)||(t.openLibraryBook==null?null:t.openLibraryBook.title)||"Book cover"),r(3),l("ngIf",!t.isEditingPrice),r(),l("ngIf",t.isEditingPrice),r(2),h("btn-success",!t.isInCart())("btn-secondary",t.isInCart()),l("disabled",t.isInCart()),r(),h("fa-shopping-cart",!t.isInCart())("fa-check",t.isInCart()),r(2),b(" ",t.isInCart()?"In Cart":"Add to Cart"," "),r(),l("ngIf",t.getCartQuantity()>0),r(8),b(" ",(t.book==null?null:t.book.title)||(t.openLibraryBook==null?null:t.openLibraryBook.title)||"Unknown Title"," "),r(3),l("ngIf",t.book),r(),l("ngIf",t.isOpenLibraryBook),r(),l("ngIf",t.getRating()>0),r(),l("ngIf",t.hasCategories()),r(6),k(t.getDescription()),r(7),l("ngIf",t.getISBN()!=="N/A"),r(),l("ngIf",t.getPublisher()!=="N/A"),r(),l("ngIf",t.getPublishedYear()!=="N/A"),r(),l("ngIf",t.getPageCount()!=="N/A"),r(3),l("ngIf",t.hasLanguage()),r(),l("ngIf",t.book==null?null:t.book.format),r(),l("ngIf",(t.book==null?null:t.book.stock)!==void 0),r(),l("ngIf",t.isOpenLibraryBook),r(),l("ngIf",t.isOpenLibraryBook&&t.openLibraryBook),r(3),h("btn-success",!t.isInCart())("btn-secondary",t.isInCart()),l("disabled",t.isInCart()),r(),h("fa-shopping-cart",!t.isInCart())("fa-check",t.isInCart()),r(2),b(" ",t.isInCart()?"In Cart":"Add to Cart"," "),r(),l("ngIf",t.getCartQuantity()>0)}}var H=class e{constructor(n,t,c,d,u){this.route=n;this.router=t;this.bookService=c;this.openLibraryService=d;this.cartService=u}book=null;openLibraryBook=null;isLoading=!0;error="";isOpenLibraryBook=!1;bookId="";originalTitle="";originalAuthor="";isEditingPrice=!1;editablePrice=0;currentPrice=0;ngOnInit(){return f(this,null,function*(){this.route.params.subscribe(n=>f(this,null,function*(){this.bookId=n.id,this.route.queryParams.subscribe(t=>f(this,null,function*(){t.title&&t.author&&(this.originalTitle=t.title,this.originalAuthor=t.author),yield this.loadBookDetails()}))}))})}loadBookDetails(){return f(this,null,function*(){this.isLoading=!0,this.error="";try{this.bookId.startsWith("ol-")?(this.isOpenLibraryBook=!0,yield this.loadOpenLibraryBook()):(this.isOpenLibraryBook=!1,yield this.loadLocalBook()),this.currentPrice=this.generatePrice(),this.editablePrice=this.currentPrice}catch(n){console.error("Error loading book details:",n),this.error="Failed to load book details"}finally{this.isLoading=!1}})}loadLocalBook(){return f(this,null,function*(){try{this.bookService.getAllBooks().subscribe(n=>{this.book=n.find(t=>t.id===this.bookId)||null,this.book||(this.error="Book not found")})}catch(n){console.error("Error loading local book:",n),this.error="Failed to load book details"}})}loadOpenLibraryBook(){return f(this,null,function*(){try{let n=this.originalTitle,t=this.originalAuthor;if(!n){let c=this.bookId.replace("ol-","").split("-");n=c[0],t=c[1]}if(n&&n!=="unknown"){console.log("Searching for:",n,"by",t);let c=yield this.openLibraryService.searchBooks(n).toPromise();if(console.log("Search results:",c),c&&c.docs&&c.docs.length>0){let d=c.docs.find(u=>{let U=u.title?.toLowerCase().includes(n.toLowerCase()),G=t&&t!=="unknown"?u.author_name?.some(Z=>Z.toLowerCase().includes(t.toLowerCase())):!0;return U&&G});d||(d=c.docs[0]),this.openLibraryBook=d,console.log("Found book:",this.openLibraryBook)}else this.error="Book not found in Open Library"}else this.error="Invalid book search terms"}catch(n){console.error("Error loading Open Library book:",n),this.error="Failed to load book details from Open Library"}})}generateBookId(n){if(n.key)return n.key.replace("/works/","ol-work-");let t=n.title?.replace(/[^a-zA-Z0-9]/g,"").toLowerCase().slice(0,20)||"unknown",c=n.author_name?.[0]?.replace(/[^a-zA-Z0-9]/g,"").toLowerCase().slice(0,15)||"unknown";return`ol-${t}-${c}`}getCoverImage(){if(this.isOpenLibraryBook&&this.openLibraryBook){if(this.openLibraryBook.cover_i)return`https://covers.openlibrary.org/b/id/${this.openLibraryBook.cover_i}-L.jpg`;if(this.openLibraryBook.isbn&&this.openLibraryBook.isbn.length>0)return`https://covers.openlibrary.org/b/isbn/${this.openLibraryBook.isbn[0]}-L.jpg`}else if(this.book)return this.book.coverImage;return"/assets/images/no-book-cover.jpg"}onImageError(n){let t=n.target;t.src="/assets/images/no-book-cover.jpg"}getAuthorsString(n){return!n||n.length===0?"Unknown Author":n.slice(0,3).join(", ")}getISBN(){return this.isOpenLibraryBook&&this.openLibraryBook?.isbn&&this.openLibraryBook.isbn.length>0?this.openLibraryBook.isbn[0]:this.book?.isbn?this.book.isbn:"N/A"}getPublisher(){return this.isOpenLibraryBook&&this.openLibraryBook?.publisher&&this.openLibraryBook.publisher.length>0?this.openLibraryBook.publisher[0]:this.book?.publisher?this.book.publisher:"N/A"}getPublishedYear(){return this.isOpenLibraryBook&&this.openLibraryBook?.first_publish_year?this.openLibraryBook.first_publish_year.toString():this.book?.publishedDate?new Date(this.book.publishedDate).getFullYear().toString():"N/A"}getPageCount(){return this.isOpenLibraryBook&&this.openLibraryBook?.edition_count?`${this.openLibraryBook.edition_count} editions`:this.book?.pageCount?`${this.book.pageCount} pages`:"N/A"}generatePrice(){if(this.isOpenLibraryBook&&this.openLibraryBook){let t=15;return this.openLibraryBook.ratings_average&&this.openLibraryBook.ratings_average>4&&(t+=5),this.openLibraryBook.first_publish_year&&this.openLibraryBook.first_publish_year>2010&&(t+=3),this.openLibraryBook.subject&&this.openLibraryBook.subject.length>5&&(t+=2),Math.round(t*100)/100}else if(this.book)return this.book.price;return 0}getRating(){return this.isOpenLibraryBook&&this.openLibraryBook?.ratings_average?this.openLibraryBook.ratings_average:this.book?.rating?this.book.rating:0}getRatingCount(){return this.isOpenLibraryBook&&this.openLibraryBook?.ratings_count?this.openLibraryBook.ratings_count:this.book?.reviewCount?this.book.reviewCount:0}getDescription(){if(this.isOpenLibraryBook&&this.openLibraryBook){let n=[];return this.openLibraryBook.subject&&this.openLibraryBook.subject.length>0&&n.push(`Categories: ${this.openLibraryBook.subject.slice(0,3).join(", ")}`),this.openLibraryBook.edition_count&&n.push(`Available in ${this.openLibraryBook.edition_count} editions`),n.length>0?n.join(". "):"No description available."}else if(this.book?.description)return this.book.description;return"No description available."}addToCart(){return f(this,null,function*(){try{if(this.isOpenLibraryBook&&this.openLibraryBook){let n={id:this.bookId,title:this.openLibraryBook.title,author:this.getAuthorsString(this.openLibraryBook.author_name),description:this.getDescription(),price:this.generatePrice(),category:this.openLibraryBook.subject?.[0]||"General",coverImage:this.getCoverImage(),rating:this.getRating(),reviewCount:this.getRatingCount(),isFeatured:!1,isBestseller:!1,isNew:!1,publishedDate:this.openLibraryBook.first_publish_year?.toString()||"",createdAt:new Date,updatedAt:new Date,isbn:this.getISBN(),publisher:this.getPublisher(),pageCount:this.openLibraryBook.edition_count||0,openLibraryId:this.openLibraryBook.key};yield this.cartService.addToCart(n,1)}else this.book&&(yield this.cartService.addToCart(this.book,1))}catch(n){console.error("Error adding to cart:",n)}})}isInCart(){return this.isOpenLibraryBook&&this.openLibraryBook?this.cartService.isInCart(this.bookId):this.book?this.cartService.isInCart(this.book.id):!1}getCartQuantity(){return this.isOpenLibraryBook&&this.openLibraryBook?this.cartService.getBookQuantity(this.bookId):this.book?this.cartService.getBookQuantity(this.book.id):0}goBack(){window.history.back()}hasCategories(){return!!(this.book?.category||this.isOpenLibraryBook&&this.openLibraryBook?.subject&&this.openLibraryBook.subject.length>0)}getCategories(){return this.book?.category?[this.book.category]:this.isOpenLibraryBook&&this.openLibraryBook?.subject?this.openLibraryBook.subject.slice(0,5):[]}hasLanguage(){return!!(this.book?.language||this.isOpenLibraryBook&&this.openLibraryBook?.language&&this.openLibraryBook.language.length>0)}getLanguage(){return this.book?.language?this.book.language:this.isOpenLibraryBook&&this.openLibraryBook?.language&&this.openLibraryBook.language.length>0?this.openLibraryBook.language[0]:"English"}getCurrentPrice(){return this.isEditingPrice?this.editablePrice:this.currentPrice}startEditingPrice(){this.isEditingPrice=!0,this.editablePrice=this.currentPrice}cancelEditingPrice(){this.isEditingPrice=!1,this.editablePrice=this.currentPrice}savePrice(){this.editablePrice>=.01&&this.editablePrice<=999.99&&(this.currentPrice=this.editablePrice,this.isEditingPrice=!1,this.book&&!this.isOpenLibraryBook&&(this.book.price=this.currentPrice,this.bookService.updateBook(this.book)))}onPriceInputChange(n){let t=n.target,c=parseFloat(t.value);isNaN(c)||(this.editablePrice=c)}static \u0275fac=function(t){return new(t||e)(v(w),v(D),v(j),v(V),v(N))};static \u0275cmp=O({type:e,selectors:[["app-book-detail"]],decls:4,vars:3,consts:[[1,"book-detail-container"],["class","loading-container text-center py-5",4,"ngIf"],["class","error-container",4,"ngIf"],["class","book-detail",4,"ngIf"],[1,"loading-container","text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"error-container"],["role","alert",1,"alert","alert-danger"],[1,"d-flex","align-items-center"],[1,"fas","fa-exclamation-triangle","me-3","fa-2x"],[1,"alert-heading"],[1,"mb-0"],[1,"d-flex","justify-content-between"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left","me-2"],["routerLink","/",1,"btn","btn-primary"],[1,"fas","fa-home","me-2"],[1,"book-detail"],[1,"back-navigation","mb-4","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"currency-selector-wrapper"],[1,"row"],[1,"col-lg-4","col-md-5","mb-4"],[1,"book-cover-section"],[1,"book-cover-container"],[1,"book-cover-large",3,"error","src","alt"],[1,"quick-actions","mt-4"],[1,"price-section","mb-3"],["class","price-display",4,"ngIf"],["class","price-edit",4,"ngIf"],[1,"action-buttons","d-grid","gap-2"],[1,"btn","btn-lg",3,"click","disabled"],[1,"fas"],[1,"ms-2"],["class","badge bg-light text-dark ms-2",4,"ngIf"],["routerLink","/cart",1,"btn","btn-outline-primary"],[1,"fas","fa-shopping-cart","me-2"],[1,"col-lg-8","col-md-7"],[1,"book-info-section"],[1,"book-header","mb-4"],[1,"book-title"],[1,"book-author","h5","text-muted","mb-3"],[1,"fas","fa-user","me-2"],[4,"ngIf"],["class","book-rating mb-3",4,"ngIf"],["class","book-categories mb-4",4,"ngIf"],[1,"book-description","mb-4"],[1,"mb-3"],[1,"description-text"],[1,"book-metadata"],[1,"col-md-6"],[1,"metadata-list"],["class","metadata-item",4,"ngIf"],["class","open-library-info mt-4",4,"ngIf"],[1,"bottom-actions","d-lg-none","mt-4"],[1,"d-grid","gap-2"],[1,"price-display"],[1,"current-price","h3","text-primary","mb-1"],["class","original-price text-muted text-decoration-line-through",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-sm","mt-2",3,"click"],[1,"fas","fa-edit"],[1,"original-price","text-muted","text-decoration-line-through"],[1,"price-edit"],[1,"input-group","mb-2"],[1,"input-group-text"],["type","number","min","0.01","max","999.99","step","0.01","placeholder","Enter price",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"btn-group","w-100"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-save"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"badge","bg-light","text-dark","ms-2"],[1,"book-rating","mb-3"],[1,"stars","me-3"],["class","fas fa-star",3,"text-warning","text-muted",4,"ngFor","ngForOf"],[1,"rating-text"],["class","text-muted",4,"ngIf"],[1,"fas","fa-star"],[1,"text-muted"],[1,"book-categories","mb-4"],[1,"mb-2"],[1,"categories-list"],["class","badge bg-light text-dark me-1",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark","me-1"],[1,"metadata-item"],[1,"badge"],[1,"badge","bg-info"],[1,"open-library-info","mt-4"],[1,"card"],[1,"card-header"],[1,"fas","fa-info-circle","me-2"],[1,"card-body"],["class","col-md-6",4,"ngIf"],[1,"fas","fa-check","text-success"]],template:function(t,c){t&1&&(i(0,"div",0),p(1,K,6,0,"div",1)(2,X,17,1,"div",2)(3,yt,66,41,"div",3),o()),t&2&&(r(),l("ngIf",c.isLoading),r(),l("ngIf",c.error&&!c.isLoading),r(),l("ngIf",!c.isLoading&&!c.error&&(c.book||c.openLibraryBook)))},dependencies:[E,I,S,q,F,$,R,Y,Q,z,A,T,W],styles:[".book-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.book-detail-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{min-height:400px;display:flex;flex-direction:column;justify-content:center;align-items:center}.book-detail-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{margin:40px 0}.book-detail-container[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%]{margin-bottom:20px}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .book-cover-container[_ngcontent-%COMP%]{position:relative;background:#f8f9fa;border-radius:12px;padding:20px;box-shadow:0 4px 15px #0000001a;margin-bottom:20px}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .book-cover-container[_ngcontent-%COMP%]   .book-cover-large[_ngcontent-%COMP%]{width:100%;max-width:350px;height:auto;border-radius:8px;box-shadow:0 8px 25px #00000026;transition:transform .3s ease}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .book-cover-container[_ngcontent-%COMP%]   .book-cover-large[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-weight:600}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{font-size:.9rem}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:500;border-radius:8px;padding:12px 20px;transition:all .3s ease}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}.book-detail-container[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;line-height:1.2;margin-bottom:15px;color:#2c3e50}@media (max-width: 768px){.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:2rem}}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-author[_ngcontent-%COMP%]{color:#6c757d;font-weight:500}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:2px}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-weight:500;color:#495057}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-categories[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.85rem;padding:6px 12px;border-radius:20px;border:1px solid #dee2e6}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;color:#495057;background:#f8f9fa;padding:20px;border-radius:8px;border-left:4px solid #007bff}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .metadata-list[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #e9ecef}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .metadata-list[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .metadata-list[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#495057;min-width:120px;text-align:left}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .metadata-list[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d;text-align:right;flex:1}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .metadata-list[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;padding:4px 8px}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 2px 10px #0000000d;border-radius:8px}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:8px 8px 0 0;border:none}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{margin-bottom:15px}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;letter-spacing:.5px}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.1rem;margin-top:5px;color:#495057}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .open-library-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{margin-right:5px}.book-detail-container[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .bottom-actions[_ngcontent-%COMP%]{padding:20px 0;border-top:1px solid #e9ecef;margin-top:30px}@media (max-width: 768px){.book-detail-container[_ngcontent-%COMP%]{padding:15px}.book-detail-container[_ngcontent-%COMP%]   .book-detail[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.book-detail-container[_ngcontent-%COMP%]   .book-detail[_ngcontent-%COMP%]   .book-cover-section[_ngcontent-%COMP%]   .book-cover-container[_ngcontent-%COMP%]{display:inline-block;max-width:250px}.book-detail-container[_ngcontent-%COMP%]   .book-detail[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.book-detail-container[_ngcontent-%COMP%]   .book-detail[_ngcontent-%COMP%]   .book-info-section[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:first-child{margin-bottom:20px}}@media print{.book-detail-container[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%], .book-detail-container[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%], .book-detail-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%], .book-detail-container[_ngcontent-%COMP%]   .bottom-actions[_ngcontent-%COMP%]{display:none!important}.book-detail-container[_ngcontent-%COMP%]   .book-detail[_ngcontent-%COMP%]{box-shadow:none!important}}"]})};export{H as BookDetailComponent};
