import{C as _,E as P,F as b,G as p,H as O,I as z,J as D,K as B,N as I,P as C,Q as k,a as c,aa as G,b as v,ba as H,c as a,d as E,da as J,f as h,g as l,ga as q,h as F,ha as K,j as S,n as g,p as d,r as N,s as $,sa as x,ta as W,ua as V,va as Q,wa as M,x as u,xa as X,y as Y,z as U}from"./chunk-KVOACGWW.js";var f=class o{currentCurrency=new h({code:"USD",symbol:"$",name:"US Dollar",rate:1});currency$=this.currentCurrency.asObservable();currencies=[{code:"USD",symbol:"$",name:"US Dollar",rate:1},{code:"EUR",symbol:"\u20AC",name:"Euro",rate:.85},{code:"GBP",symbol:"\xA3",name:"British Pound",rate:.75},{code:"JPY",symbol:"\xA5",name:"Japanese Yen",rate:110},{code:"TRY",symbol:"\u20BA",name:"Turkish Lira",rate:27}];pricingConfig={basePrices:{fiction:12.99,programming:45.99,science:35.99,history:18.99,biography:22.99,business:28.99,philosophy:16.99,psychology:24.99,art:29.99,health:19.99,education:39.99,religion:15.99,general:14.99},modifiers:{bestseller:1.3,featured:1.15,newBook:1.1,pageCount:{under200:.8,between200And400:1,between400And600:1.2,over600:1.4},publishedYear:{current:1.2,recent:1.1,older:.9},authorPopularity:{famous:1.5,known:1.2,unknown:1}}};constructor(){let e=localStorage.getItem("selectedCurrency");if(e){let r=this.currencies.find(t=>t.code===e);r&&this.currentCurrency.next(r)}}calculateBookPrice(e){let r=e.category?.toLowerCase()||"general",t=this.pricingConfig.basePrices[r]||this.pricingConfig.basePrices.general;if(e.isBestseller&&(t*=this.pricingConfig.modifiers.bestseller),e.isFeatured&&(t*=this.pricingConfig.modifiers.featured),e.isNew&&(t*=this.pricingConfig.modifiers.newBook),e.pageCount&&(e.pageCount<200?t*=this.pricingConfig.modifiers.pageCount.under200:e.pageCount<=400?t*=this.pricingConfig.modifiers.pageCount.between200And400:e.pageCount<=600?t*=this.pricingConfig.modifiers.pageCount.between400And600:t*=this.pricingConfig.modifiers.pageCount.over600),e.publishedDate){let i=new Date(e.publishedDate).getFullYear(),n=new Date().getFullYear()-i;n===0?t*=this.pricingConfig.modifiers.publishedYear.current:n<=3?t*=this.pricingConfig.modifiers.publishedYear.recent:t*=this.pricingConfig.modifiers.publishedYear.older}if(e.author){let i=["Stephen King","J.K. Rowling","Dan Brown","John Grisham","Agatha Christie"],s=["Malcolm Gladwell","Yuval Noah Harari","Jordan Peterson"];i.some(n=>e.author.includes(n))?t*=this.pricingConfig.modifiers.authorPopularity.famous:s.some(n=>e.author.includes(n))&&(t*=this.pricingConfig.modifiers.authorPopularity.known)}return Math.round(t*100)/100}convertPrice(e){let r=this.currentCurrency.value,t=e*r.rate;return r.code==="JPY"?Math.round(t):Math.round(t*100)/100}formatPrice(e){let r=this.currentCurrency.value,t=this.convertPrice(e);switch(r.code){case"EUR":return`${t.toFixed(2)}${r.symbol}`;case"TRY":return`${t.toFixed(2)} ${r.symbol}`;case"JPY":return`${r.symbol}${Math.round(t).toLocaleString()}`;case"GBP":case"USD":default:return`${r.symbol}${t.toFixed(2)}`}}getCurrencies(){return this.currencies}getCurrentCurrency(){return this.currentCurrency.value}setCurrency(e){let r=this.currencies.find(t=>t.code===e);r&&(this.currentCurrency.next(r),localStorage.setItem("selectedCurrency",e))}updateExchangeRates(e){this.currencies.forEach(t=>{e[t.code]&&(t.rate=e[t.code])});let r=this.getCurrentCurrency();e[r.code]&&this.currentCurrency.next(v(c({},r),{rate:e[r.code]}))}getPricingConfig(){return c({},this.pricingConfig)}updatePricingConfig(e){this.pricingConfig=c(c({},this.pricingConfig),e),localStorage.setItem("pricingConfig",JSON.stringify(this.pricingConfig))}resetToDefaults(){this.pricingConfig={basePrices:{fiction:12.99,programming:45.99,science:35.99,history:18.99,biography:22.99,business:28.99,philosophy:16.99,psychology:24.99,art:29.99,health:19.99,education:39.99,religion:15.99,general:14.99},modifiers:{bestseller:1.3,featured:1.15,newBook:1.1,pageCount:{under200:.8,between200And400:1,between400And600:1.2,over600:1.4},publishedYear:{current:1.2,recent:1.1,older:.9},authorPopularity:{famous:1.5,known:1.2,unknown:1}}},localStorage.removeItem("pricingConfig")}static \u0275fac=function(r){return new(r||o)};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};var A=class o{constructor(e,r){this.http=e;this.pricingService=r;console.log("OpenLibraryService initialized")}baseUrl="https://openlibrary.org";searchUrl=`${this.baseUrl}/search.json`;coversUrl="https://covers.openlibrary.org";searchBooks(e,r=40,t=0,i){let s=new q().set("q",e).set("limit",r.toString()).set("offset",t.toString()).set("fields","key,title,author_name,author_key,first_publish_year,publisher,isbn,cover_i,cover_edition_key,edition_count,subject,language,has_fulltext,public_scan_b,ia,ebook_access,ebook_count_i,publish_date,publish_year,ratings_average,ratings_count,want_to_read_count,currently_reading_count,already_read_count");return i&&(s=s.set("sort",i)),this.http.get(this.searchUrl,{params:s}).pipe(S(n=>(console.error("Error searching books:",n),l({start:0,num_found:0,numFound:0,numFoundExact:!0,docs:[]}))))}searchBySubject(e,r=40,t=0,i){return this.searchBooks(`subject:${e}`,r,t,i)}searchByAuthor(e,r=40,t=0){return this.searchBooks(`author:${e}`,r,t)}getRandomBooksBySubject(e,r=10){return this.searchBySubject(e,r,0,"random")}getPopularBooks(e=40){return this.searchBooks("*",e,0,"rating desc")}getNewReleases(e=40){return this.searchBooks("*",e,0,"new")}convertToBook(e){let r=e.key?.replace("/works/","")||e.key||Math.random().toString(36).substr(2,9),t=e.first_publish_year||parseInt(e.publish_date?.[0]||"2000"),i=this.extractCategory(e.subject),s=(e.ratings_count||0)>100,n=t>2020,m=e.author_name?.join(", ")||"Unknown Author",y=this.pricingService.calculateBookPrice({category:i,isBestseller:s,isFeatured:!1,isNew:n,pageCount:300,publishedDate:t.toString(),author:m});return{id:r,title:e.title||"Unknown Title",author:m,isbn:e.isbn?.[0]||"",publishedDate:t.toString(),publisher:e.publisher?.[0]||"",pageCount:300,category:i,description:"",coverImage:this.getCoverImageUrl(e.cover_i,e.cover_edition_key),price:y,originalPrice:s?y*1.2:void 0,rating:e.ratings_average||0,reviewCount:e.ratings_count||0,language:e.language?.[0]||"en",format:e.has_fulltext?"Digital":"Physical",availability:e.ebook_access==="public"?"Available":"Limited",tags:e.subject?.slice(0,5)||[],isFeatured:!1,isBestseller:s,isNew:n,createdAt:new Date,updatedAt:new Date}}extractCategory(e){if(!e||e.length===0)return"General";let r={fiction:"Fiction",fantasy:"Fiction","science fiction":"Fiction",mystery:"Mystery",romance:"Romance",biography:"Biography",history:"History",science:"Science","self-help":"Self-Help",business:"Business",psychology:"Psychology",philosophy:"Philosophy",religion:"Religion",politics:"Politics",travel:"Travel",cooking:"Cooking",art:"Arts",music:"Arts",sports:"Sports",health:"Health",medicine:"Science",technology:"Technology",computer:"Technology",education:"Education",children:"Children",juvenile:"Children","young adult":"Young Adult",poetry:"Poetry",drama:"Drama",humor:"Humor",thriller:"Mystery",crime:"Mystery",horror:"Horror"};for(let t of e){let i=t.toLowerCase();for(let[s,n]of Object.entries(r))if(i.includes(s))return n}return"General"}getCoverImageUrl(e,r,t="M"){return e?`${this.coversUrl}/b/id/${e}-${t}.jpg`:r?`${this.coversUrl}/b/olid/${r}-${t}.jpg`:"assets/images/no-book-cover.jpg"}getAuthorImageUrl(e,r="M"){return`${this.coversUrl}/a/olid/${e}-${r}.jpg`}convertSearchResponseToBooks(e){return e.docs.map(r=>this.convertToBook(r))}static \u0275fac=function(r){return new(r||o)(d(K),d(f))};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};var Z=class o{constructor(e,r){this.openLibraryService=e;this.pricingService=r}booksSubject=new h([]);books$=this.booksSubject.asObservable();currentBooks=[];getReliableCoverUrl(e){return e.includes("assets/images/no-book-cover.jpg")?e:e.includes("covers.openlibrary.org")?e.replace("http://","https://"):e}getAlternativeCoverUrls(){return{"The Great Gatsby":["https://covers.openlibrary.org/b/isbn/9780743273565-M.jpg","https://covers.openlibrary.org/b/olid/OL82563W-M.jpg","assets/images/no-book-cover.jpg"],"To Kill a Mockingbird":["https://covers.openlibrary.org/b/isbn/9780061120084-M.jpg","https://covers.openlibrary.org/b/olid/OL5735363W-M.jpg","assets/images/no-book-cover.jpg"],1984:["https://covers.openlibrary.org/b/isbn/9780451524935-M.jpg","https://covers.openlibrary.org/b/olid/OL14934393M-M.jpg","assets/images/no-book-cover.jpg"]}}loadBooks(){return a(this,null,function*(){try{console.log("Starting to load books from Open Library API..."),this.loadFallbackBooks();let e=this.openLibraryService.getPopularBooks(20),r=this.openLibraryService.searchBooks("*",20,0,"random"),[t,i]=yield Promise.all([e.toPromise(),r.toPromise()]),s=[];if(t){let n=this.openLibraryService.convertSearchResponseToBooks(t);s.push(...n)}if(i){let n=this.openLibraryService.convertSearchResponseToBooks(i);s.push(...n)}if(s.length>0){let n=s.filter((m,y,R)=>y===R.findIndex(j=>j.openLibraryId===m.openLibraryId));console.log(`Total unique books loaded from API: ${n.length}`),this.currentBooks=n,this.booksSubject.next(this.currentBooks)}else console.log("No books loaded from API, keeping fallback books")}catch(e){console.error("Error loading books from Open Library:",e)}})}searchBooks(e){return this.openLibraryService.searchBooks(e,40).pipe(F(r=>r&&r.docs?this.openLibraryService.convertSearchResponseToBooks(r):[]),S(r=>(console.error("Error searching books:",r),l([]))))}getBooksByCategory(e){return this.openLibraryService.searchBySubject(e.toLowerCase(),40).pipe(F(r=>r&&r.docs?this.openLibraryService.convertSearchResponseToBooks(r):[]),S(r=>(console.error("Error getting books by category:",r),l([]))))}getRandomFeaturedBooks(e=6){return a(this,null,function*(){try{let r=["fiction","mystery","science","history","biography","romance"],t=r[Math.floor(Math.random()*r.length)],i=yield this.openLibraryService.getRandomBooksBySubject(t,e*2).toPromise();if(i&&i.docs){let s=this.openLibraryService.convertSearchResponseToBooks(i);return this.shuffleArray(s).slice(0,e).map(n=>v(c({},n),{isFeatured:!0}))}}catch(r){console.error("Error getting random featured books:",r)}return this.getFallbackBooks().slice(0,e)})}getBookById(e){let r=this.currentBooks.find(t=>t.id===e);return l(r||null)}getAllBooks(){return this.books$}addBook(e){return console.log("Add book functionality - would integrate with backend"),l(e)}updateBook(e){return console.log("Update book functionality - would integrate with backend"),l(e)}deleteBook(e){return console.log("Delete book functionality - would integrate with backend"),l(!0)}importBookFromOpenLibrary(e){let r=this.openLibraryService.convertToBook(e);return console.log("Importing book from Open Library:",r),l(r)}calculateAutomatedPrice(e){return this.pricingService.calculateBookPrice({category:e.category,isBestseller:e.isBestseller,isFeatured:e.isFeatured,isNew:e.isNew,pageCount:e.pageCount,publishedDate:e.publishedDate,author:e.author})}formatPrice(e){return this.pricingService.formatPrice(e)}shuffleArray(e){let r=[...e];for(let t=r.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r}loadFallbackBooks(){let e=this.getFallbackBooks();this.currentBooks=e,this.booksSubject.next(this.currentBooks),console.log(`Loaded ${e.length} fallback books`)}getFallbackBooks(){return[{id:"fallback-1",openLibraryId:"OL82563W",title:"The Great Gatsby",author:"F. Scott Fitzgerald",description:"A classic American novel set in the Jazz Age.",category:"Fiction",price:12.99,originalPrice:15.99,coverImage:"https://covers.openlibrary.org/b/id/8225261-M.jpg",rating:4.2,reviewCount:1500,stock:25,isActive:!0,isFeatured:!0,isBestseller:!0,isNew:!1,publishedDate:"1925-04-10",pageCount:180,createdAt:new Date,updatedAt:new Date,tags:["classic","american-literature","jazz-age"]},{id:"fallback-2",openLibraryId:"OL5735363W",title:"To Kill a Mockingbird",author:"Harper Lee",description:"A gripping tale of racial injustice and childhood innocence.",category:"Fiction",price:14.99,originalPrice:18.99,coverImage:"https://covers.openlibrary.org/b/id/8227691-M.jpg",rating:4.5,reviewCount:2100,stock:18,isActive:!0,isFeatured:!1,isBestseller:!0,isNew:!1,publishedDate:"1960-07-11",pageCount:376,createdAt:new Date,updatedAt:new Date,tags:["classic","social-justice","coming-of-age"]},{id:"fallback-3",openLibraryId:"OL14934393M",title:"1984",author:"George Orwell",description:"A dystopian social science fiction novel and cautionary tale.",category:"Fiction",price:13.99,originalPrice:16.99,coverImage:"https://covers.openlibrary.org/b/id/7222246-M.jpg",rating:4.3,reviewCount:2800,stock:30,isActive:!0,isFeatured:!0,isBestseller:!1,isNew:!1,publishedDate:"1949-06-08",pageCount:328,createdAt:new Date,updatedAt:new Date,tags:["dystopian","political","classic"]},{id:"fallback-4",openLibraryId:"OL8509161M",title:"Clean Code",author:"Robert C. Martin",description:"A handbook of agile software craftsmanship.",category:"Programming",price:39.99,originalPrice:49.99,coverImage:"https://covers.openlibrary.org/b/id/8509161-M.jpg",rating:4.6,reviewCount:890,stock:15,isActive:!0,isFeatured:!0,isBestseller:!1,isNew:!1,publishedDate:"2008-08-01",pageCount:464,createdAt:new Date,updatedAt:new Date,tags:["programming","software-engineering","best-practices"]},{id:"fallback-5",openLibraryId:"OL8494321M",title:"Sapiens",author:"Yuval Noah Harari",description:"A brief history of humankind.",category:"History",price:18.99,originalPrice:24.99,coverImage:"https://covers.openlibrary.org/b/id/8494321-M.jpg",rating:4.4,reviewCount:1200,stock:22,isActive:!0,isFeatured:!1,isBestseller:!0,isNew:!1,publishedDate:"2014-09-04",pageCount:512,createdAt:new Date,updatedAt:new Date,tags:["history","anthropology","evolution"]},{id:"fallback-6",openLibraryId:"OL8225261M",title:"JavaScript: The Good Parts",author:"Douglas Crockford",description:"Essential JavaScript techniques and best practices.",category:"Programming",price:29.99,originalPrice:35.99,coverImage:"https://covers.openlibrary.org/b/id/8225261-M.jpg",rating:4.1,reviewCount:650,stock:12,isActive:!0,isFeatured:!1,isBestseller:!1,isNew:!0,publishedDate:"2023-01-15",pageCount:176,createdAt:new Date,updatedAt:new Date,tags:["programming","javascript","web-development"]}].map(r=>v(c({},r),{price:this.calculateAutomatedPrice(r),originalPrice:void 0}))}getBestsellerBooks(e=5){return a(this,null,function*(){try{let r=yield this.openLibraryService.searchBooks("*",e*2,0,"rating desc").toPromise();if(r&&r.docs)return this.openLibraryService.convertSearchResponseToBooks(r).slice(0,e).map(i=>v(c({},i),{isBestseller:!0}))}catch(r){console.error("Error getting bestseller books:",r)}return this.getFallbackBooks().filter(r=>r.isBestseller).slice(0,e)})}getNewArrivalBooks(e=4){return a(this,null,function*(){try{let r=yield this.openLibraryService.getNewReleases(e*2).toPromise();if(r&&r.docs)return this.openLibraryService.convertSearchResponseToBooks(r).slice(0,e).map(i=>v(c({},i),{isNew:!0}))}catch(r){console.error("Error getting new arrival books:",r)}return this.getFallbackBooks().slice(0,e)})}static \u0275fac=function(r){return new(r||o)(d(A),d(f))};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};var L=class o{notifications=[];notificationsSubject=new h([]);notifications$=this.notificationsSubject.asObservable();show(e){let r=this.generateId(),t=c({id:r,duration:5e3},e);return this.notifications.push(t),this.notificationsSubject.next([...this.notifications]),!t.persistent&&t.duration&&setTimeout(()=>{this.hide(r)},t.duration),r}hide(e){this.notifications=this.notifications.filter(r=>r.id!==e),this.notificationsSubject.next([...this.notifications])}clearAll(){this.notifications=[],this.notificationsSubject.next([])}success(e,r,t){return this.show({type:"success",title:e,message:r,duration:t})}info(e,r,t){return this.show({type:"info",title:e,message:r,duration:t})}warning(e,r,t){return this.show({type:"warning",title:e,message:r,duration:t})}error(e,r,t){return this.show({type:"error",title:e,message:r,persistent:t})}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}static \u0275fac=function(r){return new(r||o)};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};var ee=class o{constructor(e,r){this.authService=e;this.notificationService=r;this.initializeCart(),this.setupAuthListener()}cartItems=[];cartSubject=new h([]);CART_STORAGE_KEY="readify_cart";cart$=this.cartSubject.asObservable();initializeCart(){return a(this,null,function*(){this.loadCartFromLocalStorage();let e=this.authService.getCurrentUser();e&&(yield this.syncCartWithFirebase(e.uid))})}setupAuthListener(){this.authService.currentUser$.subscribe(e=>a(this,null,function*(){e?(this.cartItems.length>0&&this.notificationService.info("Cart Sync","Syncing your cart with your account...",2e3),yield this.syncCartWithFirebase(e.uid)):(this.cartItems.length>0&&this.notificationService.info("Signed Out","Cart saved locally. Sign in to sync across devices.",4e3),yield this.handleUserLogout())}))}syncCartWithFirebase(e){return a(this,null,function*(){try{let r=yield this.loadCartFromFirebase(e),t=this.cartItems,i=t.length>0,s=r.length>0,n=[...r],m=0;t.forEach(y=>{r.some(j=>j.book.id===y.book.id)||(n.push(y),m++)}),this.cartItems=n,this.cartSubject.next([...this.cartItems]),n.length>0&&(yield this.saveCartToFirebase(e)),localStorage.removeItem(this.CART_STORAGE_KEY),s&&i&&m>0?this.notificationService.success("Cart Merged",`Added ${m} local items to your account cart.`,3e3):s&&!i&&this.notificationService.success("Cart Restored",`Restored ${r.length} items from your account.`,3e3)}catch(r){console.error("Error syncing cart with Firebase:",r),this.loadCartFromLocalStorage()}})}handleUserLogout(){return a(this,null,function*(){this.saveCartToLocalStorage()})}addToCart(e,r=1){return a(this,null,function*(){let t=this.cartItems.find(i=>i.book.id===e.id);if(t)t.quantity+=r;else{let i={book:e,quantity:r,addedAt:new Date};this.cartItems.push(i)}yield this.updateCart()})}removeFromCart(e){return a(this,null,function*(){this.cartItems=this.cartItems.filter(r=>r.book.id!==e),yield this.updateCart()})}updateQuantity(e,r){return a(this,null,function*(){let t=this.cartItems.find(i=>i.book.id===e);t&&(r<=0?yield this.removeFromCart(e):(t.quantity=r,yield this.updateCart()))})}clearCart(){return a(this,null,function*(){this.cartItems=[],yield this.updateCart()})}getTotalItems(){return this.cartItems.reduce((e,r)=>e+r.quantity,0)}getTotalPrice(){return this.cartItems.reduce((e,r)=>e+r.book.price*r.quantity,0)}isInCart(e){return this.cartItems.some(r=>r.book.id===e)}getBookQuantity(e){let r=this.cartItems.find(t=>t.book.id===e);return r?r.quantity:0}updateCart(){return a(this,null,function*(){this.cartSubject.next([...this.cartItems]);let e=this.authService.getCurrentUser();e?yield this.saveCartToFirebase(e.uid):this.saveCartToLocalStorage()})}saveCartToFirebase(e){return a(this,null,function*(){try{let r=x(M,"carts",e),t={items:this.cartItems,updatedAt:new Date,totalItems:this.getTotalItems(),totalPrice:this.getTotalPrice()};yield V(r,t)}catch(r){console.error("Error saving cart to Firebase:",r),this.saveCartToLocalStorage()}})}loadCartFromFirebase(e){return a(this,null,function*(){try{let r=x(M,"carts",e),t=yield W(r);return t.exists()?t.data().items||[]:[]}catch(r){return console.error("Error loading cart from Firebase:",r),[]}})}deleteCartFromFirebase(e){return a(this,null,function*(){try{let r=x(M,"carts",e);yield Q(r)}catch(r){console.error("Error deleting cart from Firebase:",r)}})}saveCartToLocalStorage(){try{localStorage.setItem(this.CART_STORAGE_KEY,JSON.stringify(this.cartItems))}catch(e){console.error("Error saving cart to localStorage:",e)}}loadCartFromLocalStorage(){try{let e=localStorage.getItem(this.CART_STORAGE_KEY);e&&(this.cartItems=JSON.parse(e),this.cartSubject.next([...this.cartItems]))}catch(e){console.error("Error loading cart from localStorage:",e),this.cartItems=[]}}static \u0275fac=function(r){return new(r||o)(d(X),d(L))};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};function oe(o,e){o&1&&O(0,"i",14)}function ne(o,e){if(o&1){let r=z();b(0,"button",10),D("click",function(){let i=N(r).$implicit,s=B(2);return $(s.selectCurrency(i.code))}),b(1,"span",4),C(2),p(),b(3,"span",11)(4,"span",5),C(5),p(),b(6,"span",12),C(7),p()(),_(8,oe,1,0,"i",13),p()}if(o&2){let r=e.$implicit,t=B(2);I("active",r.code===t.currentCurrency.code),u(2),k(r.symbol),u(3),k(r.code),u(2),k(r.name),u(),P("ngIf",r.code===t.currentCurrency.code)}}function se(o,e){if(o&1&&(b(0,"div",8),_(1,ne,9,6,"button",9),p()),o&2){let r=B();u(),P("ngForOf",r.currencies)}}var re=class o{constructor(e){this.pricingService=e}currencies=[];currentCurrency={code:"USD",symbol:"$",name:"US Dollar",rate:1};isOpen=!1;subscription=new E;ngOnInit(){this.currencies=this.pricingService.getCurrencies(),this.subscription.add(this.pricingService.currency$.subscribe(e=>{this.currentCurrency=e})),document.addEventListener("click",this.closeDropdown.bind(this))}ngOnDestroy(){this.subscription.unsubscribe(),document.removeEventListener("click",this.closeDropdown.bind(this))}toggleDropdown(){this.isOpen=!this.isOpen}selectCurrency(e){this.pricingService.setCurrency(e),this.isOpen=!1}closeDropdown(e){e.target.closest(".currency-selector")||(this.isOpen=!1)}static \u0275fac=function(r){return new(r||o)(Y(f))};static \u0275cmp=U({type:o,selectors:[["app-currency-selector"]],decls:10,vars:7,consts:[[1,"currency-selector"],[1,"currency-dropdown"],[1,"currency-toggle",3,"click"],[1,"fas","fa-coins",2,"color","#ffd700","margin-right","4px"],[1,"currency-symbol"],[1,"currency-code"],[1,"fas","fa-chevron-down"],["class","currency-options",4,"ngIf"],[1,"currency-options"],["class","currency-option",3,"active","click",4,"ngFor","ngForOf"],[1,"currency-option",3,"click"],[1,"currency-info"],[1,"currency-name"],["class","fas fa-check",4,"ngIf"],[1,"fas","fa-check"]],template:function(r,t){r&1&&(b(0,"div",0)(1,"div",1)(2,"button",2),D("click",function(){return t.toggleDropdown()}),O(3,"i",3),b(4,"span",4),C(5),p(),b(6,"span",5),C(7),p(),O(8,"i",6),p(),_(9,se,2,1,"div",7),p()()),r&2&&(u(),I("open",t.isOpen),u(4),k(t.currentCurrency.symbol),u(2),k(t.currentCurrency.code),u(),I("rotated",t.isOpen),u(),P("ngIf",t.isOpen))},dependencies:[J,G,H],styles:[".currency-selector[_ngcontent-%COMP%]{position:relative;z-index:1000}.currency-dropdown[_ngcontent-%COMP%]{position:relative}.currency-toggle[_ngcontent-%COMP%]{background:#667eea;border:1px solid #5a67d8;color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px;font-size:.9rem;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.currency-toggle[_ngcontent-%COMP%]:hover{background:#5a67d8;border-color:#4c51bf;transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.currency-toggle[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.currency-toggle[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:gold}.currency-toggle[_ngcontent-%COMP%]   .currency-code[_ngcontent-%COMP%]{font-size:.8rem;opacity:.95}.currency-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;transition:transform .3s ease}.currency-toggle[_ngcontent-%COMP%]   i.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.currency-options[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 10px 25px #00000026;min-width:200px;overflow:hidden;margin-top:8px;animation:_ngcontent-%COMP%_slideDown .2s ease;z-index:1001}.currency-option[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:none;background:#fff;cursor:pointer;display:flex;align-items:center;gap:12px;transition:background-color .2s ease;color:#333}.currency-option[_ngcontent-%COMP%]:hover{background:#f7fafc;color:#667eea}.currency-option.active[_ngcontent-%COMP%]{background:#667eea;color:#fff}.currency-option.active[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{color:gold}.currency-option.active[_ngcontent-%COMP%]   .currency-code[_ngcontent-%COMP%], .currency-option.active[_ngcontent-%COMP%]   .currency-name[_ngcontent-%COMP%]{color:#fff}.currency-option[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;width:20px;text-align:center}.currency-option[_ngcontent-%COMP%]   .currency-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:flex-start;gap:2px}.currency-option[_ngcontent-%COMP%]   .currency-code[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.currency-option[_ngcontent-%COMP%]   .currency-name[_ngcontent-%COMP%]{font-size:.8rem;color:#666}.currency-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4caf50;font-size:.9rem}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.header[_nghost-%COMP%]   .currency-toggle[_ngcontent-%COMP%], .header   [_nghost-%COMP%]   .currency-toggle[_ngcontent-%COMP%]{background:#0000001a;border-color:#0003;color:#333}.header[_nghost-%COMP%]   .currency-toggle[_ngcontent-%COMP%]:hover, .header   [_nghost-%COMP%]   .currency-toggle[_ngcontent-%COMP%]:hover{background:#00000026}"]})};export{f as a,A as b,Z as c,L as d,ee as e,re as f};
